<div data-region="competency-breakdown-report" data-courseid="{{course.id}}" data-groupid="{{groupid}}" data-onlyactive="{{onlyactive}}">
<table class="table table-bordered">
<summary>{{#str}}coursecompetencybreakdownsummary, report_competency{{/str}}</summary>
<tr>
<th scope="col"><span class="accesshide">{{#str}}students{{/str}}</span></th>
{{#competencies}}
    <th scope="col">
        <a href="#" data-action="competency-dialogue" data-id="{{id}}">
            {{shortname}} - {{idnumber}}
        </a>
    </th>
{{/competencies}}
</tr>
{{#usercompetencies}}
<tr>
<th scope="row">
{{#user}}
{{> tool_lp/user_summary }}
{{/user}}
</th>
{{#usercompetencies}}
<td class="alert {{#proficiency}}alert-success{{/proficiency}}"
    data-user-competency="true"
    data-userid="{{user.id}}"
    data-competencyid="{{competencyid}}"
    data-courseid="{{course.id}}">
{{> report_competency/user_competency_summary}}
</td>
{{/usercompetencies}}
</tr>
{{/usercompetencies}}
</table>
</div>
{{#js}}
require(['tool_lp/competencydialogue'], function(Compdialogue) {
    var competencydialogue = new Compdialogue({includerelated : true});
    competencydialogue.watch('[data-region="competency-breakdown-report"]');
});
require(['report_competency/grading_popup'], function(Popup) {
    (new Popup('[data-region=competency-breakdown-report]', '[data-user-competency=true]'));
});
{{/js}}
