define(["jquery","core/templates"],function(a,b){var c={init:function(c){function d(){var a=!f.hasClass("hidden");M.util.set_user_preference(c.preference,a),a?(f.addClass("hidden"),f.find(".block-hider-show").focus()):(f.removeClass("hidden"),f.find(".block-hider-hide").focus())}function e(a){a.preventDefault(),13==a.keyCode&&d(this)}var f=a("#"+c.id),g=f.find(".title"),h=f.find(".block_action");g&&h&&(b.renderIcon("minus-square",c.tooltipVisible).done(function(b){var f=a('<a href="#" title="'+c.tooltipVisible+'" class="block-hider-hide">'+b+"</a>");f.click(d),f.keypress(e),h.append(f)}),b.renderIcon("plus-square",c.tooltipHidden).done(function(b){var f=a('<a href="#" title="'+c.tooltipHidden+'" class="block-hider-show">'+b+"</a>");f.click(d),f.keypress(e),h.append(f)}))}};return c});